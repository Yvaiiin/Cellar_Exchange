import{a as ie}from"./chunk-4KRDECKJ.js";import{b as G,c as H,d as z,e as N}from"./chunk-6EADLCUR.js";import{a as X,b as J,c as K,d as Y,e as Z,f as $,g as ee,h as te}from"./chunk-NOEVEZGE.js";import{a as Q}from"./chunk-SJMOICDE.js";import{$a as d,Bb as j,Cb as R,Da as D,Ma as x,N as E,Na as w,Oa as F,Pa as T,Qa as V,Ra as b,S as f,Sa as i,T as u,Ta as n,U as v,Ua as C,V as L,Ya as y,Za as m,da as S,db as U,eb as I,fb as a,gb as h,hb as q,ib as M,jb as p,kb as g,lb as _,ob as A,qa as B,qb as k,sa as l,u as P}from"./chunk-YC37UFRF.js";var le=(c,s,e,r)=>({"bg-green-50 text-green-700 border-green-100":c,"bg-amber-50 text-amber-700 border-amber-100":s,"bg-gray-50 text-gray-500 border-gray-100":e,"bg-slate-100 text-slate-500 border-slate-200 border-dashed":r}),ne=(c,s)=>s.id;function se(c,s){if(c&1){let e=y();i(0,"button",15),m("click",function(){f(e);let t=d();return u(t.openOfferCreationModal())}),v(),i(1,"svg",9),C(2,"path",16),n(),a(3,"Ajouter une offre"),n()}}function de(c,s){if(c&1){let e=y();i(0,"button",15),m("click",function(){f(e);let t=d();return u(t.openRequestCreationModal())}),v(),i(1,"svg",9),C(2,"path",16),n(),a(3,"Ajouter une demande"),n()}}function ce(c,s){if(c&1){let e=y();i(0,"button",17),m("click",function(){f(e);let t=d(2);return u(t.statusFilter.set("BROUILLON"))}),a(1,"BROUILLON"),n()}if(c&2){let e=d(2);b("ngClass",e.statusFilter()==="BROUILLON"?"bg-slate-900 text-white border-slate-900":"bg-white text-gray-500 border-gray-200 hover:border-gray-300")}}function fe(c,s){if(c&1){let e=y();i(0,"div",12)(1,"button",17),m("click",function(){f(e);let t=d();return u(t.statusFilter.set("TOUT"))}),a(2,"TOUT"),n(),x(3,ce,2,1,"button",18),i(4,"button",17),m("click",function(){f(e);let t=d();return u(t.statusFilter.set("DISPONIBLE"))}),a(5,"DISPONIBLE"),n(),i(6,"button",17),m("click",function(){f(e);let t=d();return u(t.statusFilter.set("A L'ETUDE"))}),a(7,"\xC0 L'\xC9TUDE"),n(),i(8,"button",17),m("click",function(){f(e);let t=d();return u(t.statusFilter.set("VENDU"))}),a(9,"VENDU"),n()()}if(c&2){let e=d();l(),b("ngClass",e.statusFilter()==="TOUT"?"bg-slate-900 text-white border-slate-900":"bg-white text-gray-500 border-gray-200 hover:border-gray-300"),l(2),w(e.auth.isBuyer()?-1:3),l(),b("ngClass",e.statusFilter()==="DISPONIBLE"?"bg-slate-900 text-white border-slate-900":"bg-white text-gray-500 border-gray-200 hover:border-gray-300"),l(2),b("ngClass",e.statusFilter()==="A L'ETUDE"?"bg-slate-900 text-white border-slate-900":"bg-white text-gray-500 border-gray-200 hover:border-gray-300"),l(2),b("ngClass",e.statusFilter()==="VENDU"?"bg-slate-900 text-white border-slate-900":"bg-white text-gray-500 border-gray-200 hover:border-gray-300")}}function ue(c,s){c&1&&(v(),i(0,"svg",36),C(1,"path",38),n())}function me(c,s){c&1&&(v(),i(0,"svg",37),C(1,"path",39),n())}function pe(c,s){if(c&1&&(i(0,"div",25),x(1,ue,2,0,":svg:svg",36)(2,me,2,0,":svg:svg",37),n()),c&2){let e=d().$implicit,r=d(2);b("title",r.getTooltip(e)),l(),w(e.interestType==="WAITLIST"?1:2)}}function ge(c,s){if(c&1&&(i(0,"span",26),a(1),n()),c&2){let e=d().$implicit,r=d(2);l(),h(r.getOwnerName(e.ownerId))}}function _e(c,s){if(c&1){let e=y();i(0,"div",21),m("click",function(){let t=f(e).$implicit,o=d(2);return u(o.selectItem(t.id))}),i(1,"div",22)(2,"div",23)(3,"span",24),a(4),n(),x(5,pe,3,2,"div",25),x(6,ge,2,1,"span",26),n(),i(7,"span",27),a(8),n()(),i(9,"h3",28),a(10),n(),i(11,"div",29),a(12),n(),i(13,"div",30)(14,"div",31)(15,"span",32),a(16),n()(),i(17,"div",33)(18,"div",34),a(19),n(),i(20,"div",35),a(21),n()()()()}if(c&2){let e=s.$implicit,r=d(2);l(3),b("ngClass",A(12,le,e.status==="DISPONIBLE",e.status==="A L'ETUDE",e.status==="VENDU",e.status==="BROUILLON")),l(),h(e.status),l(),w(e.interestDate?5:-1),l(),w(r.auth.isAdmin()?6:-1),l(2),h(e.ref),l(2),h(e.name),l(2),M("",e.vintage," \u2022 ",e.region),l(4),M("",e.logistics.qty," x ",e.logistics.unit),l(3),h(r.formatPrice(e.price.unit*e.logistics.qty)),l(2),q("",r.formatPrice(e.price.unit)," / col")}}function xe(c,s){c&1&&(i(0,"div",20),a(1,"Aucune offre."),n())}function we(c,s){if(c&1&&(T(0,_e,22,17,"div",19,ne),x(2,xe,2,0,"div",20)),c&2){let e=d();V(e.filteredOffers()),l(2),w(e.filteredOffers().length===0?2:-1)}}function Ce(c,s){if(c&1){let e=y();i(0,"div",21),m("click",function(){let t=f(e).$implicit,o=d(2);return u(o.selectItem(t.id))}),i(1,"div",22)(2,"div",23)(3,"span",40),a(4,"RECHERCHE"),n()(),i(5,"span",41),a(6),n()(),i(7,"h3",28),a(8),n(),i(9,"div",29),a(10),n(),i(11,"div",30)(12,"div",31)(13,"span",32),a(14),n()(),i(15,"div",33)(16,"div",34),a(17),n(),i(18,"div",35),a(19),n()()()()}if(c&2){let e=s.$implicit,r=d(2);l(6),q("#",e.id),l(2),h(e.productName),l(2),M("",e.vintage," \u2022 ",e.format),l(4),M("",e.qty," x ",e.format),l(3),h(e.targetPrice>0?r.formatPrice(e.targetPrice*e.qty):"NC"),l(2),h(e.targetPrice>0?r.formatPrice(e.targetPrice)+" / col":"Budget NC")}}function be(c,s){c&1&&(i(0,"div",20),a(1,"Aucune demande en cours."),n())}function ye(c,s){if(c&1&&(T(0,Ce,20,8,"div",19,ne),x(2,be,2,0,"div",20)),c&2){let e=d();V(e.filteredRequests()),l(2),w(e.filteredRequests().length===0?2:-1)}}function he(c,s){if(c&1){let e=y();i(0,"div",72),C(1,"img",77),i(2,"button",78),m("click",function(){let t=f(e).$index,o=d(2);return u(o.newOfferData.photos.splice(t,1))}),v(),i(3,"svg",79),C(4,"path",48),n()()()}if(c&2){let e=s.$implicit;l(),b("src",e,B)}}function ve(c,s){if(c&1){let e=y();i(0,"div",14)(1,"div",42),m("click",function(){f(e);let t=d();return u(t.closeOfferCreationModal())}),n(),i(2,"div",43)(3,"div",44)(4,"h2",45),a(5,"Nouvelle offre"),n(),i(6,"button",46),m("click",function(){f(e);let t=d();return u(t.closeOfferCreationModal())}),v(),i(7,"svg",47),C(8,"path",48),n()()(),L(),i(9,"div",49)(10,"div")(11,"h3",50)(12,"span",51),a(13,"1"),n(),a(14," Identit\xE9 & Prix"),n(),i(15,"div",52)(16,"div",53)(17,"label",54),a(18,"Nom du produit"),n(),i(19,"input",55),_("ngModelChange",function(t){f(e);let o=d();return g(o.newOfferData.name,t)||(o.newOfferData.name=t),u(t)}),n()(),i(20,"div")(21,"label",54),a(22,"Mill\xE9sime"),n(),i(23,"input",56),_("ngModelChange",function(t){f(e);let o=d();return g(o.newOfferData.vintage,t)||(o.newOfferData.vintage=t),u(t)}),n()(),i(24,"div")(25,"label",54),a(26,"Type"),n(),i(27,"select",57),_("ngModelChange",function(t){f(e);let o=d();return g(o.newOfferData.productType,t)||(o.newOfferData.productType=t),u(t)}),i(28,"option",58),a(29,"VIN ROUGE"),n(),i(30,"option",59),a(31,"VIN BLANC"),n(),i(32,"option",60),a(33,"CHAMPAGNE"),n(),i(34,"option",61),a(35,"SPIRITUEUX"),n()()(),i(36,"div")(37,"label",54),a(38,"R\xE9gion"),n(),i(39,"input",55),_("ngModelChange",function(t){f(e);let o=d();return g(o.newOfferData.region,t)||(o.newOfferData.region=t),u(t)}),n()(),i(40,"div")(41,"label",54),a(42,"Prix Unitaire (HT)"),n(),i(43,"input",62),_("ngModelChange",function(t){f(e);let o=d();return g(o.newOfferData.price.unit,t)||(o.newOfferData.price.unit=t),u(t)}),n()()()(),i(44,"div")(45,"h3",50)(46,"span",51),a(47,"2"),n(),a(48," Technique & Logistique"),n(),i(49,"div",63)(50,"div",64)(51,"div")(52,"label",54),a(53,"R\xE9gie"),n(),i(54,"select",57),_("ngModelChange",function(t){f(e);let o=d();return g(o.newOfferData.regie,t)||(o.newOfferData.regie=t),u(t)}),i(55,"option",65),a(56,"CRD"),n(),i(57,"option",66),a(58,"NON CRD"),n()()(),i(59,"div")(60,"label",54),a(61,"Localisation"),n(),i(62,"input",55),_("ngModelChange",function(t){f(e);let o=d();return g(o.newOfferData.logistics.location,t)||(o.newOfferData.logistics.location=t),u(t)}),n()(),i(63,"div")(64,"label",54),a(65,"Type Vendeur"),n(),i(66,"input",55),_("ngModelChange",function(t){f(e);let o=d();return g(o.newOfferData.condition.sellerType,t)||(o.newOfferData.condition.sellerType=t),u(t)}),n()()(),i(67,"div",64)(68,"div")(69,"label",54),a(70,"Format"),n(),i(71,"input",55),_("ngModelChange",function(t){f(e);let o=d();return g(o.newOfferData.logistics.unit,t)||(o.newOfferData.logistics.unit=t),u(t)}),n()(),i(72,"div")(73,"label",54),a(74,"Quantit\xE9"),n(),i(75,"input",56),_("ngModelChange",function(t){f(e);let o=d();return g(o.newOfferData.logistics.qty,t)||(o.newOfferData.logistics.qty=t),u(t)}),n()(),i(76,"div")(77,"label",54),a(78,"Caissage"),n(),i(79,"input",55),_("ngModelChange",function(t){f(e);let o=d();return g(o.newOfferData.logistics.packaging,t)||(o.newOfferData.logistics.packaging=t),u(t)}),n()(),i(80,"div")(81,"label",54),a(82,"Bande de Garantie"),n(),i(83,"input",55),_("ngModelChange",function(t){f(e);let o=d();return g(o.newOfferData.logistics.guarantee,t)||(o.newOfferData.logistics.guarantee=t),u(t)}),n()()(),i(84,"div",64)(85,"div")(86,"label",54),a(87,"\xC9tat G\xE9n\xE9ral"),n(),i(88,"input",55),_("ngModelChange",function(t){f(e);let o=d();return g(o.newOfferData.condition.general,t)||(o.newOfferData.condition.general=t),u(t)}),n()(),i(89,"div")(90,"label",54),a(91,"Niveau"),n(),i(92,"input",55),_("ngModelChange",function(t){f(e);let o=d();return g(o.newOfferData.condition.level,t)||(o.newOfferData.condition.level=t),u(t)}),n()(),i(93,"div")(94,"label",54),a(95,"Capsule"),n(),i(96,"input",55),_("ngModelChange",function(t){f(e);let o=d();return g(o.newOfferData.condition.capsule,t)||(o.newOfferData.condition.capsule=t),u(t)}),n()(),i(97,"div")(98,"label",54),a(99,"\xC9tiquette"),n(),i(100,"input",55),_("ngModelChange",function(t){f(e);let o=d();return g(o.newOfferData.condition.label,t)||(o.newOfferData.condition.label=t),u(t)}),n()()()()(),i(101,"div")(102,"h3",50)(103,"span",51),a(104,"3"),n(),a(105," Photos"),n(),i(106,"div",67)(107,"div",68),C(108,"input",69,0),i(110,"button",70),m("click",function(){f(e);let t=U(109);return d().newOfferData.photos.push(t.value),u(t.value="")}),a(111,"Ajouter"),n()(),i(112,"div",71),T(113,he,5,1,"div",72,F),n()()()(),i(115,"div",73)(116,"button",74),m("click",function(){f(e);let t=d();return u(t.closeOfferCreationModal())}),a(117,"Annuler"),n(),i(118,"button",75),m("click",function(){f(e);let t=d();return u(t.saveNewOffer("BROUILLON"))}),a(119,"Enregistrer comme brouillon"),n(),i(120,"button",76),m("click",function(){f(e);let t=d();return u(t.saveNewOffer("DISPONIBLE"))}),a(121,"Publier"),n()()()()}if(c&2){let e=d();l(19),p("ngModel",e.newOfferData.name),l(4),p("ngModel",e.newOfferData.vintage),l(4),p("ngModel",e.newOfferData.productType),l(12),p("ngModel",e.newOfferData.region),l(4),p("ngModel",e.newOfferData.price.unit),l(11),p("ngModel",e.newOfferData.regie),l(8),p("ngModel",e.newOfferData.logistics.location),l(4),p("ngModel",e.newOfferData.condition.sellerType),l(5),p("ngModel",e.newOfferData.logistics.unit),l(4),p("ngModel",e.newOfferData.logistics.qty),l(4),p("ngModel",e.newOfferData.logistics.packaging),l(4),p("ngModel",e.newOfferData.logistics.guarantee),l(5),p("ngModel",e.newOfferData.condition.general),l(4),p("ngModel",e.newOfferData.condition.level),l(4),p("ngModel",e.newOfferData.condition.capsule),l(4),p("ngModel",e.newOfferData.condition.label),l(13),V(e.newOfferData.photos)}}function Oe(c,s){if(c&1){let e=y();i(0,"div",14)(1,"div",42),m("click",function(){f(e);let t=d();return u(t.closeRequestCreationModal())}),n(),i(2,"div",80)(3,"div",44)(4,"h2",45),a(5,"Nouvelle demande"),n(),i(6,"button",46),m("click",function(){f(e);let t=d();return u(t.closeRequestCreationModal())}),v(),i(7,"svg",47),C(8,"path",48),n()()(),L(),i(9,"div",81)(10,"p",82),a(11,"Recherchez un lot sp\xE9cifique sur la place."),n(),i(12,"div")(13,"label",54),a(14,"Nom du produit recherch\xE9"),n(),i(15,"input",83),_("ngModelChange",function(t){f(e);let o=d();return g(o.newRequestData.productName,t)||(o.newRequestData.productName=t),u(t)}),n()(),i(16,"div",52)(17,"div")(18,"label",54),a(19,"Mill\xE9sime"),n(),i(20,"input",56),_("ngModelChange",function(t){f(e);let o=d();return g(o.newRequestData.vintage,t)||(o.newRequestData.vintage=t),u(t)}),n()(),i(21,"div")(22,"label",54),a(23,"Format"),n(),i(24,"input",84),_("ngModelChange",function(t){f(e);let o=d();return g(o.newRequestData.format,t)||(o.newRequestData.format=t),u(t)}),n()()(),i(25,"div",52)(26,"div")(27,"label",54),a(28,"Quantit\xE9"),n(),i(29,"input",56),_("ngModelChange",function(t){f(e);let o=d();return g(o.newRequestData.qty,t)||(o.newRequestData.qty=t),u(t)}),n()(),i(30,"div")(31,"label",54),a(32,"Prix \u20AC HT Souhait\xE9"),n(),i(33,"input",62),_("ngModelChange",function(t){f(e);let o=d();return g(o.newRequestData.targetPrice,t)||(o.newRequestData.targetPrice=t),u(t)}),n()()(),i(34,"div")(35,"label",54),a(36,"Commentaire (Optionnel)"),n(),i(37,"textarea",85),_("ngModelChange",function(t){f(e);let o=d();return g(o.newRequestData.comment,t)||(o.newRequestData.comment=t),u(t)}),n()()(),i(38,"div",73)(39,"button",74),m("click",function(){f(e);let t=d();return u(t.closeRequestCreationModal())}),a(40,"Annuler"),n(),i(41,"button",86),m("click",function(){f(e);let t=d();return u(t.saveNewRequest())}),a(42,"Publier la demande"),n()()()()}if(c&2){let e=d();l(15),p("ngModel",e.newRequestData.productName),l(5),p("ngModel",e.newRequestData.vintage),l(4),p("ngModel",e.newRequestData.format),l(5),p("ngModel",e.newRequestData.qty),l(4),p("ngModel",e.newRequestData.targetPrice),l(4),p("ngModel",e.newRequestData.comment)}}var W=class c{offerService=E(ie);auth=E(Q);router=E(N);route=E(H);activeTab=S("OFFRES");statusFilter=S("TOUT");searchQuery=S("");isOfferCreationModalOpen=S(!1);isRequestCreationModalOpen=S(!1);newOfferData={};newRequestData={};filteredOffers=k(()=>{let s=this.offerService.offers(),e=this.auth.currentUser(),r=this.statusFilter(),t=this.searchQuery().toLowerCase(),o=[];return this.auth.isAdmin()?o=s:this.auth.isSeller()?o=s.filter(O=>O.ownerId===e?.id):this.auth.isBuyer()&&(o=s.filter(O=>O.status!=="BROUILLON")),r!=="TOUT"&&(o=o.filter(O=>O.status===r)),t&&(o=o.filter(O=>O.name.toLowerCase().includes(t)||O.ref.toLowerCase().includes(t))),o});filteredRequests=k(()=>{let s=this.offerService.requests(),e=this.searchQuery().toLowerCase();return e&&(s=s.filter(r=>r.productName.toLowerCase().includes(e))),s});requestList=k(()=>this.offerService.requests());switchTab(s){this.activeTab.set(s),this.router.navigate(["."],{relativeTo:this.route})}selectItem(s){this.router.navigate([s],{relativeTo:this.route})}getOwnerName(s){let e=this.auth.users().find(r=>r.id===s);return e?e.name:s}formatPrice(s){return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(s)}getTooltip(s){return s.interestType==="WAITLIST"?"Sur liste d'attente":"Int\xE9r\xEAt signal\xE9"}openOfferCreationModal(){let s=this.auth.currentUser();s&&(this.newOfferData=this.offerService.getBlankOffer(s.id),this.isOfferCreationModalOpen.set(!0))}closeOfferCreationModal(){this.isOfferCreationModalOpen.set(!1)}saveNewOffer(s){this.newOfferData.price.total=this.newOfferData.price.unit*this.newOfferData.logistics.qty,this.newOfferData.status=s,this.offerService.addOffer(this.newOfferData),this.closeOfferCreationModal(),s==="BROUILLON"?this.statusFilter.set("BROUILLON"):this.statusFilter.set("TOUT"),setTimeout(()=>{this.router.navigate([this.newOfferData.id],{relativeTo:this.route})},50)}openRequestCreationModal(){let s=this.auth.currentUser();s&&(this.newRequestData=this.offerService.getBlankRequest(s.id),this.isRequestCreationModalOpen.set(!0))}closeRequestCreationModal(){this.isRequestCreationModalOpen.set(!1)}saveNewRequest(){this.offerService.addRequest(this.newRequestData),this.closeRequestCreationModal(),setTimeout(()=>{this.router.navigate([this.newRequestData.id],{relativeTo:this.route})},50)}static \u0275fac=function(e){return new(e||c)};static \u0275cmp=D({type:c,selectors:[["app-offers-list"]],decls:20,vars:11,consts:[["newPhotoInput",""],[1,"flex","flex-col","h-full","bg-white","border-r","border-gray-200"],[1,"p-4","border-b","border-gray-200","space-y-3","shrink-0"],[1,"grid","grid-cols-2","gap-1","p-1","bg-gray-100/80","rounded-lg"],[1,"py-1.5","text-xs","font-bold","rounded-md","transition-all","shadow-sm",3,"click","ngClass"],[1,"py-1.5","text-xs","font-bold","rounded-md","transition-all",3,"click","ngClass"],[1,"w-full","py-2.5","bg-slate-900","hover:bg-slate-800","text-white","text-sm","font-bold","rounded-md","shadow-sm","flex","items-center","justify-center","gap-2","transition-all"],[1,"relative"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","text-gray-400"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Rechercher...",1,"w-full","py-2","pl-9","pr-3","bg-gray-50","border","border-gray-200","rounded-md","text-sm","text-gray-900","placeholder-gray-400","focus:outline-none","focus:ring-2","focus:ring-slate-900","focus:bg-white","transition-all",3,"ngModelChange","ngModel"],[1,"flex","items-center","gap-2","overflow-x-auto","pb-1","no-scrollbar"],[1,"flex-1","overflow-y-auto","min-h-0"],[1,"fixed","inset-0","z-[10000]","flex","items-center","justify-center","p-4"],[1,"w-full","py-2.5","bg-slate-900","hover:bg-slate-800","text-white","text-sm","font-bold","rounded-md","shadow-sm","flex","items-center","justify-center","gap-2","transition-all",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"px-3","py-1","rounded-full","text-[10px]","font-bold","uppercase","tracking-wide","border","transition-all","whitespace-nowrap",3,"click","ngClass"],[1,"px-3","py-1","rounded-full","text-[10px]","font-bold","uppercase","tracking-wide","border","transition-all","whitespace-nowrap",3,"ngClass"],[1,"group","p-4","border-b","border-gray-100","hover:bg-gray-50","cursor-pointer","transition-colors","relative"],[1,"p-8","text-center","text-gray-400","text-sm"],[1,"group","p-4","border-b","border-gray-100","hover:bg-gray-50","cursor-pointer","transition-colors","relative",3,"click"],[1,"flex","justify-between","items-start","mb-1"],[1,"flex","items-center","gap-2"],[1,"inline-flex","items-center","px-1.5","py-0.5","rounded","text-[9px]","font-bold","uppercase","tracking-wider","border",3,"ngClass"],[1,"flex","items-center","justify-center","w-4","h-4","cursor-default","transition-opacity","hover:opacity-80",3,"title"],[1,"px-1.5","py-0.5","rounded","bg-slate-100","text-slate-600","border","border-slate-200","text-[9px]","font-bold","uppercase"],[1,"text-[10px]","text-gray-400","font-mono","group-hover:text-slate-600","transition-colors"],[1,"text-sm","font-bold","text-slate-900","leading-tight","mb-0.5"],[1,"text-xs","text-gray-500","mb-2"],[1,"flex","justify-between","items-end","border-t","border-gray-50","pt-2","mt-2"],[1,"flex","gap-1"],[1,"text-[10px]","text-gray-500"],[1,"text-right"],[1,"text-sm","font-bold","text-slate-900","leading-none"],[1,"text-[10px]","text-gray-400","font-medium","mt-0.5"],["fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2.5",1,"w-3.5","h-3.5","text-amber-600"],["fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2.5",1,"w-3.5","h-3.5","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","d","M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"inline-flex","items-center","px-1.5","py-0.5","rounded","text-[9px]","font-bold","uppercase","tracking-wider","border","bg-indigo-50","text-indigo-700","border-indigo-100"],[1,"text-[10px]","text-gray-400","font-mono"],[1,"absolute","inset-0","bg-slate-900/60","backdrop-blur-sm","animate-fade-in",3,"click"],[1,"relative","bg-white","rounded-2xl","shadow-2xl","w-full","max-w-4xl","flex","flex-col","max-h-[90vh]","animate-scale-in"],[1,"px-8","py-5","border-b","border-gray-100","flex","justify-between","items-center","shrink-0"],[1,"text-xl","font-bold","text-slate-900"],[1,"p-2","-mr-2","text-gray-400","hover:text-slate-900","rounded-full","hover:bg-gray-100","transition-all",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"p-8","overflow-y-auto","space-y-8"],[1,"text-xs","font-bold","text-gray-400","uppercase","tracking-widest","mb-4","flex","items-center","gap-2"],[1,"w-6","h-6","rounded-full","bg-indigo-100","text-indigo-600","flex","items-center","justify-center","text-[10px]","font-bold"],[1,"grid","grid-cols-2","gap-4"],[1,"col-span-2"],[1,"block","text-xs","font-bold","text-gray-700","mb-1"],["type","text",1,"w-full","px-3","py-2","bg-gray-50","border","border-gray-200","rounded-lg","text-sm","focus:bg-white","focus:ring-1","focus:ring-slate-900","focus:outline-none",3,"ngModelChange","ngModel"],["type","number",1,"w-full","px-3","py-2","bg-gray-50","border","border-gray-200","rounded-lg","text-sm","focus:bg-white","focus:ring-1","focus:ring-slate-900","focus:outline-none",3,"ngModelChange","ngModel"],[1,"w-full","px-3","py-2","bg-gray-50","border","border-gray-200","rounded-lg","text-sm","focus:bg-white","focus:ring-1","focus:ring-slate-900","focus:outline-none",3,"ngModelChange","ngModel"],["value","VIN ROUGE"],["value","VIN BLANC"],["value","CHAMPAGNE"],["value","SPIRITUEUX"],["type","number",1,"w-full","px-3","py-2","bg-gray-50","border","border-gray-200","rounded-lg","text-sm","font-bold","text-slate-900","focus:bg-white","focus:ring-1","focus:ring-slate-900","focus:outline-none",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"space-y-4"],["value","CRD"],["value","NON CRD"],[1,"space-y-3"],[1,"flex","gap-2"],["type","text","placeholder","URL de l'image (https://...)",1,"flex-1","px-3","py-2","bg-gray-50","border","border-gray-200","rounded-lg","text-sm","focus:bg-white","focus:ring-1","focus:ring-slate-900","focus:outline-none"],[1,"px-4","py-2","bg-gray-200","text-gray-700","font-bold","rounded-lg","hover:bg-gray-300","text-sm",3,"click"],[1,"flex","gap-2","overflow-x-auto","py-2"],[1,"relative","w-16","h-16","rounded-md","overflow-hidden","group","shrink-0","border","border-gray-200"],[1,"px-8","py-5","bg-gray-50","border-t","border-gray-100","flex","justify-end","gap-3","shrink-0"],[1,"px-5","py-2.5","text-sm","font-bold","text-gray-500","hover:text-slate-900","hover:bg-gray-100","rounded-lg","transition-colors",3,"click"],[1,"px-5","py-2.5","text-sm","font-bold","text-slate-700","bg-white","border","border-gray-300","hover:bg-gray-50","rounded-lg","transition-colors","shadow-sm",3,"click"],[1,"px-5","py-2.5","text-sm","font-bold","text-white","bg-slate-900","hover:bg-slate-800","rounded-lg","shadow-lg","shadow-slate-900/20","transition-all",3,"click"],[1,"w-full","h-full","object-cover",3,"src"],[1,"absolute","inset-0","bg-black/50","text-white","flex","items-center","justify-center","opacity-0","group-hover:opacity-100","transition-opacity",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5"],[1,"relative","bg-white","rounded-2xl","shadow-2xl","w-full","max-w-[500px]","flex","flex-col","animate-scale-in"],[1,"p-8","space-y-4"],[1,"text-sm","text-gray-500","italic","mb-4"],["type","text","placeholder","Ex: Petrus",1,"w-full","px-3","py-2","bg-gray-50","border","border-gray-200","rounded-lg","text-sm","focus:bg-white","focus:ring-1","focus:ring-slate-900","focus:outline-none",3,"ngModelChange","ngModel"],["type","text","placeholder","Ex: Bouteille",1,"w-full","px-3","py-2","bg-gray-50","border","border-gray-200","rounded-lg","text-sm","focus:bg-white","focus:ring-1","focus:ring-slate-900","focus:outline-none",3,"ngModelChange","ngModel"],["placeholder","Ex: Caisse bois d'origine uniquement...",1,"w-full","px-3","py-2","bg-gray-50","border","border-gray-200","rounded-lg","text-sm","focus:bg-white","focus:ring-1","focus:ring-slate-900","focus:outline-none","resize-none","h-20",3,"ngModelChange","ngModel"],[1,"px-8","py-2.5","text-sm","font-bold","text-white","bg-slate-900","hover:bg-slate-800","rounded-lg","shadow-lg","shadow-slate-900/20","transition-all",3,"click"]],template:function(e,r){e&1&&(i(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),m("click",function(){return r.switchTab("OFFRES")}),a(4),n(),i(5,"button",5),m("click",function(){return r.switchTab("DEMANDES")}),a(6,"DEMANDES"),n()(),x(7,se,4,0,"button",6),x(8,de,4,0,"button",6),i(9,"div",7)(10,"span",8),v(),i(11,"svg",9),C(12,"path",10),n()(),L(),i(13,"input",11),m("ngModelChange",function(o){return r.searchQuery.set(o)}),n()(),x(14,fe,10,5,"div",12),n(),i(15,"div",13),x(16,we,3,1),x(17,ye,3,1),n(),x(18,ve,122,16,"div",14),x(19,Oe,43,6,"div",14),n()),e&2&&(l(3),b("ngClass",r.activeTab()==="OFFRES"?"bg-white text-slate-900 ring-1 ring-black/5":"text-gray-500 hover:text-gray-700"),l(),h(r.auth.isSeller()?"MES OFFRES":"OFFRES"),l(),b("ngClass",r.activeTab()==="DEMANDES"?"bg-white text-slate-900 shadow-sm ring-1 ring-black/5":"text-gray-500 hover:text-gray-700"),l(2),w(r.auth.isSeller()&&r.activeTab()==="OFFRES"?7:-1),l(),w(r.auth.isBuyer()&&r.activeTab()==="DEMANDES"?8:-1),l(5),b("ngModel",r.searchQuery()),l(),w(r.activeTab()==="OFFRES"?14:-1),l(2),w(r.activeTab()==="OFFRES"?16:-1),l(),w(r.activeTab()==="DEMANDES"?17:-1),l(),w(r.isOfferCreationModalOpen()?18:-1),l(),w(r.isRequestCreationModalOpen()?19:-1))},dependencies:[R,j,te,$,ee,X,Y,Z,J,K],styles:[".no-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.no-scrollbar[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out forwards}.animate-scale-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scaleIn .3s ease-out forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.98)}to{opacity:1;transform:scale(1)}}"]})};var re=class c{router=E(N);isDetailOpen=S(!1);isMobile=window.innerWidth<768;constructor(){this.router.events.pipe(P(s=>s instanceof G)).subscribe(()=>{let s=this.router.url==="/app/offers"||this.router.url==="/app/offers/";this.isDetailOpen.set(!s)}),window.addEventListener("resize",()=>{this.isMobile=window.innerWidth<768})}static \u0275fac=function(e){return new(e||c)};static \u0275cmp=D({type:c,selectors:[["app-offers-layout"]],decls:5,vars:4,consts:[[1,"flex","h-full","w-full","relative"],[1,"w-full","md:w-[450px]","flex-shrink-0","h-full","border-r","border-gray-200","bg-slate-50","transition-transform"],[1,"flex-1","h-full","overflow-hidden","bg-white","relative"]],template:function(e,r){e&1&&(i(0,"div",0)(1,"div",1),C(2,"app-offers-list"),n(),i(3,"div",2),C(4,"router-outlet"),n()()),e&2&&(l(),I("hidden",r.isDetailOpen()&&r.isMobile),l(2),I("hidden",!r.isDetailOpen()&&r.isMobile))},dependencies:[z,W,R],encapsulation:2})};export{re as OffersLayoutComponent};
