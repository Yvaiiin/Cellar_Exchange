import{I as c,a as o,b as u,da as s}from"./chunk-7VJJJVXK.js";var l=class i{mockOffers=[{id:1,ownerId:"USER_2",name:"Ch\xE2teau Lafite Rothschild",vintage:2001,region:"Pauillac, 1er Grand Cru Class\xE9",productType:"VIN ROUGE",regie:"CRD",price:{unit:980,total:11760,currency:"EUR"},logistics:{unit:"Bouteille (75cl)",qty:12,packaging:"CBO",guarantee:"Non",location:"Bordeaux"},condition:{general:"Parfait",level:"Col",capsule:"Intacte",label:"Impeccable",sellerType:"N\xE9goce"},status:"DISPONIBLE",ref:"LAF-01-BX",date:"30/01/2026",brokerNote:"Lot exceptionnel. Provenance directe ch\xE2teau.",photos:["https://placehold.co/400x600/f1f5f9/334155?text=Chateau+Lafite","https://placehold.co/400x600/f1f5f9/334155?text=Caisse+Bois"]}];mockRequests=[{id:10001,ownerId:"USER_3",productName:"Petrus",vintage:2015,format:"Bouteille (75cl)",qty:6,targetPrice:3500,comment:"Recherche caisse bois d'origine uniquement. \xC9tat parfait exig\xE9.",date:"02/02/2026",status:"ACTIVE"}];offers=s(this.mockOffers);requests=s(this.mockRequests);getOfferById(t){return this.offers().find(e=>e.id===t)}getBlankOffer(t){let e=this.offers(),r=e.length>0?Math.max(...e.map(n=>n.id))+1:1;return{id:r,ownerId:t,name:"",vintage:new Date().getFullYear(),region:"",productType:"VIN ROUGE",regie:"CRD",price:{unit:0,total:0,currency:"EUR"},logistics:{unit:"Bouteille (75cl)",qty:12,packaging:"Carton",guarantee:"Non",location:"Entrep\xF4t"},condition:{general:"Bon",level:"Normal",capsule:"Intacte",label:"Intacte",sellerType:"N\xE9goce"},status:"BROUILLON",ref:`REF-${r}`,date:new Date().toLocaleDateString("fr-FR"),brokerNote:"",photos:["https://placehold.co/400x600/e2e8f0/64748b?text=Nouvelle+Offre"]}}addOffer(t){this.offers.update(e=>[t,...e])}updateOffer(t){this.offers.update(e=>e.map(r=>r.id===t.id?t:r))}deleteOffer(t){this.offers.update(e=>e.filter(r=>r.id!==t))}markAsContacted(t,e){let r=new Date().toLocaleDateString("fr-FR");this.offers.update(n=>n.map(a=>a.id===t?u(o({},a),{interestDate:r,interestType:e}):a))}getRequestById(t){return this.requests().find(e=>e.id===t)}getBlankRequest(t){let e=this.requests();return{id:e.length>0?Math.max(...e.map(n=>n.id))+1:1e4,ownerId:t,productName:"",vintage:new Date().getFullYear(),format:"Bouteille (75cl)",qty:12,targetPrice:0,comment:"",date:new Date().toLocaleDateString("fr-FR"),status:"ACTIVE"}}addRequest(t){this.requests.update(e=>[t,...e])}updateRequest(t){this.requests.update(e=>e.map(r=>r.id===t.id?t:r))}deleteRequest(t){this.requests.update(e=>e.filter(r=>r.id!==t))}static \u0275fac=function(e){return new(e||i)};static \u0275prov=c({token:i,factory:i.\u0275fac,providedIn:"root"})};export{l as a};
