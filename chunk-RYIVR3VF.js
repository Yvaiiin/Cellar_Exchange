import{a as Z}from"./chunk-LV5VA5WG.js";import{b as U,c as W,d as A,e as k}from"./chunk-QL2FAZ2Q.js";import{a as G,b as H,c as z,d as Q,e as X,f as J,g as K,h as Y}from"./chunk-PGYA3KEG.js";import{a as j}from"./chunk-HYBWPIHC.js";import{$a as c,Ab as B,Bb as D,Da as L,Ma as p,N as O,Na as g,Pa as R,Qa as N,Ra as b,S as f,Sa as i,T as u,Ta as n,U as v,Ua as _,V as M,Ya as h,Za as m,da as E,db as I,eb as a,fb as y,gb as S,hb as T,ib as x,jb as C,kb as w,nb as P,pb as q,sa as s,u as F}from"./chunk-7VJJJVXK.js";var ne=(l,o,e,r)=>({"bg-green-50 text-green-700 border-green-100":l,"bg-amber-50 text-amber-700 border-amber-100":o,"bg-gray-50 text-gray-500 border-gray-100":e,"bg-slate-100 text-slate-500 border-slate-200 border-dashed":r}),$=(l,o)=>o.id;function re(l,o){if(l&1){let e=h();i(0,"button",14),m("click",function(){f(e);let t=c();return u(t.openOfferCreationModal())}),v(),i(1,"svg",8),_(2,"path",15),n(),a(3,"Ajouter une offre"),n()}}function oe(l,o){if(l&1){let e=h();i(0,"button",14),m("click",function(){f(e);let t=c();return u(t.openRequestCreationModal())}),v(),i(1,"svg",8),_(2,"path",15),n(),a(3,"Ajouter une demande"),n()}}function ae(l,o){if(l&1){let e=h();i(0,"button",16),m("click",function(){f(e);let t=c(2);return u(t.statusFilter.set("BROUILLON"))}),a(1,"BROUILLON"),n()}if(l&2){let e=c(2);b("ngClass",e.statusFilter()==="BROUILLON"?"bg-slate-900 text-white border-slate-900":"bg-white text-gray-500 border-gray-200 hover:border-gray-300")}}function le(l,o){if(l&1){let e=h();i(0,"div",11)(1,"button",16),m("click",function(){f(e);let t=c();return u(t.statusFilter.set("TOUT"))}),a(2,"TOUT"),n(),p(3,ae,2,1,"button",17),i(4,"button",16),m("click",function(){f(e);let t=c();return u(t.statusFilter.set("DISPONIBLE"))}),a(5,"DISPONIBLE"),n(),i(6,"button",16),m("click",function(){f(e);let t=c();return u(t.statusFilter.set("A L'ETUDE"))}),a(7,"\xC0 L'\xC9TUDE"),n(),i(8,"button",16),m("click",function(){f(e);let t=c();return u(t.statusFilter.set("VENDU"))}),a(9,"VENDU"),n()()}if(l&2){let e=c();s(),b("ngClass",e.statusFilter()==="TOUT"?"bg-slate-900 text-white border-slate-900":"bg-white text-gray-500 border-gray-200 hover:border-gray-300"),s(2),g(e.auth.isBuyer()?-1:3),s(),b("ngClass",e.statusFilter()==="DISPONIBLE"?"bg-slate-900 text-white border-slate-900":"bg-white text-gray-500 border-gray-200 hover:border-gray-300"),s(2),b("ngClass",e.statusFilter()==="A L'ETUDE"?"bg-slate-900 text-white border-slate-900":"bg-white text-gray-500 border-gray-200 hover:border-gray-300"),s(2),b("ngClass",e.statusFilter()==="VENDU"?"bg-slate-900 text-white border-slate-900":"bg-white text-gray-500 border-gray-200 hover:border-gray-300")}}function se(l,o){l&1&&(v(),i(0,"svg",35),_(1,"path",37),n())}function de(l,o){l&1&&(v(),i(0,"svg",36),_(1,"path",38),n())}function ce(l,o){if(l&1&&(i(0,"div",24),p(1,se,2,0,":svg:svg",35)(2,de,2,0,":svg:svg",36),n()),l&2){let e=c().$implicit,r=c(2);b("title",r.getTooltip(e)),s(),g(e.interestType==="WAITLIST"?1:2)}}function fe(l,o){if(l&1&&(i(0,"span",25),a(1),n()),l&2){let e=c().$implicit,r=c(2);s(),y(r.getOwnerName(e.ownerId))}}function ue(l,o){if(l&1){let e=h();i(0,"div",20),m("click",function(){let t=f(e).$implicit,d=c(2);return u(d.selectItem(t.id))}),i(1,"div",21)(2,"div",22)(3,"span",23),a(4),n(),p(5,ce,3,2,"div",24),p(6,fe,2,1,"span",25),n(),i(7,"span",26),a(8),n()(),i(9,"h3",27),a(10),n(),i(11,"div",28),a(12),n(),i(13,"div",29)(14,"div",30)(15,"span",31),a(16),n()(),i(17,"div",32)(18,"div",33),a(19),n(),i(20,"div",34),a(21),n()()()()}if(l&2){let e=o.$implicit,r=c(2);s(3),b("ngClass",P(12,ne,e.status==="DISPONIBLE",e.status==="A L'ETUDE",e.status==="VENDU",e.status==="BROUILLON")),s(),y(e.status),s(),g(e.interestDate?5:-1),s(),g(r.auth.isAdmin()?6:-1),s(2),y(e.ref),s(2),y(e.name),s(2),T("",e.vintage," \u2022 ",e.region),s(4),T("",e.logistics.qty," x ",e.logistics.unit),s(3),y(r.formatPrice(e.price.unit*e.logistics.qty)),s(2),S("",r.formatPrice(e.price.unit)," / col")}}function me(l,o){l&1&&(i(0,"div",19),a(1,"Aucune offre."),n())}function pe(l,o){if(l&1&&(R(0,ue,22,17,"div",18,$),p(2,me,2,0,"div",19)),l&2){let e=c();N(e.filteredOffers()),s(2),g(e.filteredOffers().length===0?2:-1)}}function ge(l,o){if(l&1){let e=h();i(0,"div",20),m("click",function(){let t=f(e).$implicit,d=c(2);return u(d.selectItem(t.id))}),i(1,"div",21)(2,"div",22)(3,"span",39),a(4,"RECHERCHE"),n()(),i(5,"span",40),a(6),n()(),i(7,"h3",27),a(8),n(),i(9,"div",28),a(10),n(),i(11,"div",29)(12,"div",30)(13,"span",31),a(14),n()(),i(15,"div",32)(16,"div",33),a(17),n(),i(18,"div",34),a(19,"HT"),n()()()()}if(l&2){let e=o.$implicit,r=c(2);s(6),S("#",e.id),s(2),y(e.productName),s(2),T("",e.vintage," \u2022 ",e.format),s(4),S("Qte: ",e.qty),s(3),S("Budget ",r.formatPrice(e.targetPrice))}}function _e(l,o){l&1&&(i(0,"div",19),a(1,"Aucune demande en cours."),n())}function xe(l,o){if(l&1&&(R(0,ge,20,6,"div",18,$),p(2,_e,2,0,"div",19)),l&2){let e=c();N(e.requestList()),s(2),g(e.requestList().length===0?2:-1)}}function Ce(l,o){if(l&1){let e=h();i(0,"div",13)(1,"div",41),m("click",function(){f(e);let t=c();return u(t.closeOfferCreationModal())}),n(),i(2,"div",42)(3,"div",43)(4,"h2",44),a(5,"Nouvelle offre"),n(),i(6,"button",45),m("click",function(){f(e);let t=c();return u(t.closeOfferCreationModal())}),v(),i(7,"svg",46),_(8,"path",47),n()()(),M(),i(9,"div",48)(10,"div")(11,"h3",49)(12,"span",50),a(13,"1"),n(),a(14," Identit\xE9 & Prix"),n(),i(15,"div",51)(16,"div",52)(17,"label",53),a(18,"Nom du produit"),n(),i(19,"input",54),w("ngModelChange",function(t){f(e);let d=c();return C(d.newOfferData.name,t)||(d.newOfferData.name=t),u(t)}),n()(),i(20,"div")(21,"label",53),a(22,"Mill\xE9sime"),n(),i(23,"input",55),w("ngModelChange",function(t){f(e);let d=c();return C(d.newOfferData.vintage,t)||(d.newOfferData.vintage=t),u(t)}),n()(),i(24,"div")(25,"label",53),a(26,"Type"),n(),i(27,"select",56),w("ngModelChange",function(t){f(e);let d=c();return C(d.newOfferData.productType,t)||(d.newOfferData.productType=t),u(t)}),i(28,"option",57),a(29,"VIN ROUGE"),n(),i(30,"option",58),a(31,"VIN BLANC"),n(),i(32,"option",59),a(33,"CHAMPAGNE"),n(),i(34,"option",60),a(35,"SPIRITUEUX"),n()()(),i(36,"div")(37,"label",53),a(38,"R\xE9gion"),n(),i(39,"input",54),w("ngModelChange",function(t){f(e);let d=c();return C(d.newOfferData.region,t)||(d.newOfferData.region=t),u(t)}),n()(),i(40,"div")(41,"label",53),a(42,"Prix Unitaire (HT)"),n(),i(43,"input",61),w("ngModelChange",function(t){f(e);let d=c();return C(d.newOfferData.price.unit,t)||(d.newOfferData.price.unit=t),u(t)}),n()()()()(),i(44,"div",62)(45,"button",63),m("click",function(){f(e);let t=c();return u(t.closeOfferCreationModal())}),a(46,"Annuler"),n(),i(47,"button",64),m("click",function(){f(e);let t=c();return u(t.saveNewOffer("BROUILLON"))}),a(48,"Enregistrer comme brouillon"),n(),i(49,"button",65),m("click",function(){f(e);let t=c();return u(t.saveNewOffer("DISPONIBLE"))}),a(50,"Publier"),n()()()()}if(l&2){let e=c();s(19),x("ngModel",e.newOfferData.name),s(4),x("ngModel",e.newOfferData.vintage),s(4),x("ngModel",e.newOfferData.productType),s(12),x("ngModel",e.newOfferData.region),s(4),x("ngModel",e.newOfferData.price.unit)}}function we(l,o){if(l&1){let e=h();i(0,"div",13)(1,"div",41),m("click",function(){f(e);let t=c();return u(t.closeRequestCreationModal())}),n(),i(2,"div",66)(3,"div",43)(4,"h2",44),a(5,"Nouvelle demande"),n(),i(6,"button",45),m("click",function(){f(e);let t=c();return u(t.closeRequestCreationModal())}),v(),i(7,"svg",46),_(8,"path",47),n()()(),M(),i(9,"div",67)(10,"p",68),a(11,"Recherchez un lot sp\xE9cifique sur la place."),n(),i(12,"div")(13,"label",53),a(14,"Nom du produit recherch\xE9"),n(),i(15,"input",69),w("ngModelChange",function(t){f(e);let d=c();return C(d.newRequestData.productName,t)||(d.newRequestData.productName=t),u(t)}),n()(),i(16,"div",51)(17,"div")(18,"label",53),a(19,"Mill\xE9sime"),n(),i(20,"input",55),w("ngModelChange",function(t){f(e);let d=c();return C(d.newRequestData.vintage,t)||(d.newRequestData.vintage=t),u(t)}),n()(),i(21,"div")(22,"label",53),a(23,"Format"),n(),i(24,"input",70),w("ngModelChange",function(t){f(e);let d=c();return C(d.newRequestData.format,t)||(d.newRequestData.format=t),u(t)}),n()()(),i(25,"div",51)(26,"div")(27,"label",53),a(28,"Quantit\xE9"),n(),i(29,"input",55),w("ngModelChange",function(t){f(e);let d=c();return C(d.newRequestData.qty,t)||(d.newRequestData.qty=t),u(t)}),n()(),i(30,"div")(31,"label",53),a(32,"Prix \u20AC HT Souhait\xE9"),n(),i(33,"input",61),w("ngModelChange",function(t){f(e);let d=c();return C(d.newRequestData.targetPrice,t)||(d.newRequestData.targetPrice=t),u(t)}),n()()(),i(34,"div")(35,"label",53),a(36,"Commentaire (Optionnel)"),n(),i(37,"textarea",71),w("ngModelChange",function(t){f(e);let d=c();return C(d.newRequestData.comment,t)||(d.newRequestData.comment=t),u(t)}),n()()(),i(38,"div",62)(39,"button",63),m("click",function(){f(e);let t=c();return u(t.closeRequestCreationModal())}),a(40,"Annuler"),n(),i(41,"button",72),m("click",function(){f(e);let t=c();return u(t.saveNewRequest())}),a(42,"Publier la demande"),n()()()()}if(l&2){let e=c();s(15),x("ngModel",e.newRequestData.productName),s(5),x("ngModel",e.newRequestData.vintage),s(4),x("ngModel",e.newRequestData.format),s(5),x("ngModel",e.newRequestData.qty),s(4),x("ngModel",e.newRequestData.targetPrice),s(4),x("ngModel",e.newRequestData.comment)}}var V=class l{offerService=O(Z);auth=O(j);router=O(k);route=O(W);activeTab=E("OFFRES");statusFilter=E("TOUT");isOfferCreationModalOpen=E(!1);isRequestCreationModalOpen=E(!1);newOfferData={};newRequestData={};filteredOffers=q(()=>{let o=this.offerService.offers(),e=this.auth.currentUser(),r=this.statusFilter(),t=[];return this.auth.isAdmin()?t=o:this.auth.isSeller()?t=o.filter(d=>d.ownerId===e?.id):this.auth.isBuyer()&&(t=o.filter(d=>d.status!=="BROUILLON")),r!=="TOUT"&&(t=t.filter(d=>d.status===r)),t});requestList=q(()=>this.offerService.requests());switchTab(o){this.activeTab.set(o),this.router.navigate(["."],{relativeTo:this.route})}selectItem(o){this.router.navigate([o],{relativeTo:this.route})}getOwnerName(o){let e=this.auth.users().find(r=>r.id===o);return e?e.name:o}formatPrice(o){return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(o)}getTooltip(o){return o.interestType==="WAITLIST"?"Sur liste d'attente":"Int\xE9r\xEAt signal\xE9"}openOfferCreationModal(){let o=this.auth.currentUser();o&&(this.newOfferData=this.offerService.getBlankOffer(o.id),this.isOfferCreationModalOpen.set(!0))}closeOfferCreationModal(){this.isOfferCreationModalOpen.set(!1)}saveNewOffer(o){this.newOfferData.price.total=this.newOfferData.price.unit*this.newOfferData.logistics.qty,this.newOfferData.status=o,this.offerService.addOffer(this.newOfferData),this.closeOfferCreationModal(),o==="BROUILLON"?this.statusFilter.set("BROUILLON"):this.statusFilter.set("TOUT"),setTimeout(()=>{this.router.navigate([this.newOfferData.id],{relativeTo:this.route})},50)}openRequestCreationModal(){let o=this.auth.currentUser();o&&(this.newRequestData=this.offerService.getBlankRequest(o.id),this.isRequestCreationModalOpen.set(!0))}closeRequestCreationModal(){this.isRequestCreationModalOpen.set(!1)}saveNewRequest(){this.offerService.addRequest(this.newRequestData),this.closeRequestCreationModal(),setTimeout(()=>{this.router.navigate([this.newRequestData.id],{relativeTo:this.route})},50)}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=L({type:l,selectors:[["app-offers-list"]],decls:20,vars:10,consts:[[1,"flex","flex-col","h-full","bg-white","border-r","border-gray-200"],[1,"p-4","border-b","border-gray-200","space-y-3","shrink-0"],[1,"grid","grid-cols-2","gap-1","p-1","bg-gray-100/80","rounded-lg"],[1,"py-1.5","text-xs","font-bold","rounded-md","transition-all","shadow-sm",3,"click","ngClass"],[1,"py-1.5","text-xs","font-bold","rounded-md","transition-all",3,"click","ngClass"],[1,"w-full","py-2.5","bg-slate-900","hover:bg-slate-800","text-white","text-sm","font-bold","rounded-md","shadow-sm","flex","items-center","justify-center","gap-2","transition-all"],[1,"relative"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","text-gray-400"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Rechercher...",1,"w-full","py-2","pl-9","pr-3","bg-gray-50","border","border-gray-200","rounded-md","text-sm","text-gray-900","placeholder-gray-400","focus:outline-none","focus:ring-2","focus:ring-slate-900","focus:bg-white","transition-all"],[1,"flex","items-center","gap-2","overflow-x-auto","pb-1","no-scrollbar"],[1,"flex-1","overflow-y-auto","min-h-0"],[1,"fixed","inset-0","z-[10000]","flex","items-center","justify-center","p-4"],[1,"w-full","py-2.5","bg-slate-900","hover:bg-slate-800","text-white","text-sm","font-bold","rounded-md","shadow-sm","flex","items-center","justify-center","gap-2","transition-all",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"px-3","py-1","rounded-full","text-[10px]","font-bold","uppercase","tracking-wide","border","transition-all","whitespace-nowrap",3,"click","ngClass"],[1,"px-3","py-1","rounded-full","text-[10px]","font-bold","uppercase","tracking-wide","border","transition-all","whitespace-nowrap",3,"ngClass"],[1,"group","p-4","border-b","border-gray-100","hover:bg-gray-50","cursor-pointer","transition-colors","relative"],[1,"p-8","text-center","text-gray-400","text-sm"],[1,"group","p-4","border-b","border-gray-100","hover:bg-gray-50","cursor-pointer","transition-colors","relative",3,"click"],[1,"flex","justify-between","items-start","mb-1"],[1,"flex","items-center","gap-2"],[1,"inline-flex","items-center","px-1.5","py-0.5","rounded","text-[9px]","font-bold","uppercase","tracking-wider","border",3,"ngClass"],[1,"flex","items-center","justify-center","w-4","h-4","cursor-default","transition-opacity","hover:opacity-80",3,"title"],[1,"px-1.5","py-0.5","rounded","bg-slate-100","text-slate-600","border","border-slate-200","text-[9px]","font-bold","uppercase"],[1,"text-[10px]","text-gray-400","font-mono","group-hover:text-slate-600","transition-colors"],[1,"text-sm","font-bold","text-slate-900","leading-tight","mb-0.5"],[1,"text-xs","text-gray-500","mb-2"],[1,"flex","justify-between","items-end","border-t","border-gray-50","pt-2","mt-2"],[1,"flex","gap-1"],[1,"text-[10px]","text-gray-500"],[1,"text-right"],[1,"text-sm","font-bold","text-slate-900","leading-none"],[1,"text-[10px]","text-gray-400","font-medium","mt-0.5"],["fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2.5",1,"w-3.5","h-3.5","text-amber-600"],["fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2.5",1,"w-3.5","h-3.5","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","d","M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"inline-flex","items-center","px-1.5","py-0.5","rounded","text-[9px]","font-bold","uppercase","tracking-wider","border","bg-indigo-50","text-indigo-700","border-indigo-100"],[1,"text-[10px]","text-gray-400","font-mono"],[1,"absolute","inset-0","bg-slate-900/60","backdrop-blur-sm","animate-fade-in",3,"click"],[1,"relative","bg-white","rounded-2xl","shadow-2xl","w-full","max-w-4xl","flex","flex-col","max-h-[90vh]","animate-scale-in"],[1,"px-8","py-5","border-b","border-gray-100","flex","justify-between","items-center","shrink-0"],[1,"text-xl","font-bold","text-slate-900"],[1,"p-2","-mr-2","text-gray-400","hover:text-slate-900","rounded-full","hover:bg-gray-100","transition-all",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"p-8","overflow-y-auto","space-y-8"],[1,"text-xs","font-bold","text-gray-400","uppercase","tracking-widest","mb-4","flex","items-center","gap-2"],[1,"w-6","h-6","rounded-full","bg-indigo-100","text-indigo-600","flex","items-center","justify-center","text-[10px]","font-bold"],[1,"grid","grid-cols-2","gap-4"],[1,"col-span-2"],[1,"block","text-xs","font-bold","text-gray-700","mb-1"],["type","text",1,"w-full","px-3","py-2","bg-gray-50","border","border-gray-200","rounded-lg","text-sm","focus:bg-white","focus:ring-1","focus:ring-slate-900","focus:outline-none",3,"ngModelChange","ngModel"],["type","number",1,"w-full","px-3","py-2","bg-gray-50","border","border-gray-200","rounded-lg","text-sm","focus:bg-white","focus:ring-1","focus:ring-slate-900","focus:outline-none",3,"ngModelChange","ngModel"],[1,"w-full","px-3","py-2","bg-gray-50","border","border-gray-200","rounded-lg","text-sm","focus:bg-white","focus:ring-1","focus:ring-slate-900","focus:outline-none",3,"ngModelChange","ngModel"],["value","VIN ROUGE"],["value","VIN BLANC"],["value","CHAMPAGNE"],["value","SPIRITUEUX"],["type","number",1,"w-full","px-3","py-2","bg-gray-50","border","border-gray-200","rounded-lg","text-sm","font-bold","text-slate-900","focus:bg-white","focus:ring-1","focus:ring-slate-900","focus:outline-none",3,"ngModelChange","ngModel"],[1,"px-8","py-5","bg-gray-50","border-t","border-gray-100","flex","justify-end","gap-3","shrink-0"],[1,"px-5","py-2.5","text-sm","font-bold","text-gray-500","hover:text-slate-900","hover:bg-gray-100","rounded-lg","transition-colors",3,"click"],[1,"px-5","py-2.5","text-sm","font-bold","text-slate-700","bg-white","border","border-gray-300","hover:bg-gray-50","rounded-lg","transition-colors","shadow-sm",3,"click"],[1,"px-5","py-2.5","text-sm","font-bold","text-white","bg-slate-900","hover:bg-slate-800","rounded-lg","shadow-lg","shadow-slate-900/20","transition-all",3,"click"],[1,"relative","bg-white","rounded-2xl","shadow-2xl","w-full","max-w-[500px]","flex","flex-col","animate-scale-in"],[1,"p-8","space-y-4"],[1,"text-sm","text-gray-500","italic","mb-4"],["type","text","placeholder","Ex: Petrus",1,"w-full","px-3","py-2","bg-gray-50","border","border-gray-200","rounded-lg","text-sm","focus:bg-white","focus:ring-1","focus:ring-slate-900","focus:outline-none",3,"ngModelChange","ngModel"],["type","text","placeholder","Ex: Bouteille",1,"w-full","px-3","py-2","bg-gray-50","border","border-gray-200","rounded-lg","text-sm","focus:bg-white","focus:ring-1","focus:ring-slate-900","focus:outline-none",3,"ngModelChange","ngModel"],["placeholder","Ex: Caisse bois d'origine uniquement...",1,"w-full","px-3","py-2","bg-gray-50","border","border-gray-200","rounded-lg","text-sm","focus:bg-white","focus:ring-1","focus:ring-slate-900","focus:outline-none","resize-none","h-20",3,"ngModelChange","ngModel"],[1,"px-8","py-2.5","text-sm","font-bold","text-white","bg-slate-900","hover:bg-slate-800","rounded-lg","shadow-lg","shadow-slate-900/20","transition-all",3,"click"]],template:function(e,r){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),m("click",function(){return r.switchTab("OFFRES")}),a(4),n(),i(5,"button",4),m("click",function(){return r.switchTab("DEMANDES")}),a(6,"DEMANDES"),n()(),p(7,re,4,0,"button",5),p(8,oe,4,0,"button",5),i(9,"div",6)(10,"span",7),v(),i(11,"svg",8),_(12,"path",9),n()(),M(),_(13,"input",10),n(),p(14,le,10,5,"div",11),n(),i(15,"div",12),p(16,pe,3,1),p(17,xe,3,1),n(),p(18,Ce,51,5,"div",13),p(19,we,43,6,"div",13),n()),e&2&&(s(3),b("ngClass",r.activeTab()==="OFFRES"?"bg-white text-slate-900 ring-1 ring-black/5":"text-gray-500 hover:text-gray-700"),s(),y(r.auth.isSeller()?"MES OFFRES":"OFFRES"),s(),b("ngClass",r.activeTab()==="DEMANDES"?"bg-white text-slate-900 shadow-sm ring-1 ring-black/5":"text-gray-500 hover:text-gray-700"),s(2),g(r.auth.isSeller()&&r.activeTab()==="OFFRES"?7:-1),s(),g(r.auth.isBuyer()&&r.activeTab()==="DEMANDES"?8:-1),s(6),g(r.activeTab()==="OFFRES"?14:-1),s(2),g(r.activeTab()==="OFFRES"?16:-1),s(),g(r.activeTab()==="DEMANDES"?17:-1),s(),g(r.isOfferCreationModalOpen()?18:-1),s(),g(r.isRequestCreationModalOpen()?19:-1))},dependencies:[D,B,Y,J,K,G,Q,X,H,z],styles:[".no-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.no-scrollbar[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out forwards}.animate-scale-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scaleIn .3s ease-out forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.98)}to{opacity:1;transform:scale(1)}}"]})};var ee=class l{router=O(k);isDetailOpen=E(!1);isMobile=window.innerWidth<768;constructor(){this.router.events.pipe(F(o=>o instanceof U)).subscribe(()=>{let o=this.router.url==="/app/offers"||this.router.url==="/app/offers/";this.isDetailOpen.set(!o)}),window.addEventListener("resize",()=>{this.isMobile=window.innerWidth<768})}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=L({type:l,selectors:[["app-offers-layout"]],decls:5,vars:4,consts:[[1,"flex","h-full","w-full","relative"],[1,"w-full","md:w-[450px]","flex-shrink-0","h-full","border-r","border-gray-200","bg-slate-50","transition-transform"],[1,"flex-1","h-full","overflow-hidden","bg-white","relative"]],template:function(e,r){e&1&&(i(0,"div",0)(1,"div",1),_(2,"app-offers-list"),n(),i(3,"div",2),_(4,"router-outlet"),n()()),e&2&&(s(),I("hidden",r.isDetailOpen()&&r.isMobile),s(2),I("hidden",!r.isDetailOpen()&&r.isMobile))},dependencies:[A,V,D],encapsulation:2})};export{ee as OffersLayoutComponent};
